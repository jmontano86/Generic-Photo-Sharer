<?php
/**
 * Created by PhpStorm.
 * User: Marc
 * Date: 5/24/2016
 * Time: 11:55 PM
 */
require_once('LoadableContent.php');

$js = <<<JS
$.fn.rte=function(){function A(A){var t=this.createImage(A),e=this.createButton(A,t);this.getButton=function(){return e},this.setActive=function(){var A=t.className;"rte_active_tool_button_image"!=A&&(t.className="rte_active_tool_button_image")},this.setInactive=function(){var A=t.className;"rte_tool_button_image"!=A&&(t.className="rte_tool_button_image")}}function t(t,e){var n=new A(t),g=function(){e.focus(),document.execCommand(t.command,!1,!1),this.update()};n.getButton().addEventListener("click",g.bind(this)),this.getButton=function(){return n.getButton()},this.update=function(){void 0!==t.command&&(document.queryCommandState(t.command)?n.setActive():n.setInactive())}}function e(t,e){var n=new A(t),g="html",i=function(){if("html"==g){g="text";var A=e.innerHTML;e.contentEditable=!1;var t=document.createElement("pre");t.className="rte_html_text",void 0===t.innerText?t.textContent=A:t.innerText=A,e.innerHTML="",e.appendChild(t),t.contentEditable=!0}else{g="html";var n,t=e.firstChild;n=void 0===t.innerText?t.textContent:t.innerText,e.innerHTML=n,e.contentEditable=!0}this.update()};n.getButton().addEventListener("click",i.bind(this)),this.getButton=function(){return n.getButton()},this.update=function(){"text"==g?n.setActive():n.setInactive()},this.getMode=function(){return g}}function n(t){var e=new A(t);e.getButton().className="rte_right_tool_button",this.getButton=function(){return e.getButton()}}function g(A,g){var a,l=document.createElement("div");l.innerHTML="[edit]",l.className="rte_edit_button";var B=document.createElement("div");B.className="rte_edit_box",B.style.top=A.style.top,B.style.left=A.style.left,B.style.width=A.clientWidth+"px",B.style.height=A.clientHeight+"px";var o=document.createElement("div");o.className="rte_edit_tools";var d=new n({title:"Submit",command:"",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAWAQMAAABXDjbsAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAEaH6wNgDsAAAA+SURBVAjXY2AgFbzgY2AGUowz2BiYBYB0BxsDA4g+vH1+egVQ4uO2s5sNgLQlhGaUhNIzoXTB37n7dzCQCwCpXBQ8htJ6AwAAAABJRU5ErkJggg=="}).getButton(),E=new n({title:"Cancel",command:"",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAWAQMAAABT++bRAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAEZKD+ddvcAAAA+SURBVAjXY2AgFZQwMDAeANJngBhIM7ZA6Ybnxy1AdOPm3BwwvzinBkxvzkkAqT+6OTcFRFf8L7N8wEAuAAA/OBVnl5SjswAAAABJRU5ErkJggg=="}).getButton(),m=new e({title:"HTML",command:"",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QoPEjYhqnBbkwAAASNJREFUOMvt1L8rxHEcBvAXuaPYblBKESaxmBkwGfwNSllsCmXlD2AzGJgMlFKkKJtJuKRkuGSxWOTHIneWt/p23R2XGwz3TN/P9/08z+fzfj4/qOM/oQUvOPoNubEK416kka21cR9SuPqrcTv20ZwwbsA5FjBTbZYpLEaehcgW1mMMq/F9jZGYsCImkUMez5iPrtI4wEPwerAX5gXsoLuc6WmQ8tiIKL6RiWx3izTDuAxNrpxxAR+YKlHrwlNEVOoYnuG+nPFNorVNdCZqA/F/tEgzHjkXKq0YpvEYrb1iJTIeC3EmeP04TizkBEM/bWAblvEeombM4Q2twVmL2h0mqrwPOnCIJmzhInGmlzBbi3cii+2YRC2v9CBu8Vl/i/8PvgA8bkF2LUKmMwAAAABJRU5ErkJggg=="},B),c=m.getButton();o.appendChild(c);var s=i.map(function(A){var A=new t(A,B),e=A.getButton();return o.appendChild(e),A});s.push(m),o.appendChild(d),o.appendChild(E);var r=function(){a=B.innerHTML,""==a&&(B.innerHTML="<div></div>"),A.replaceChild(o,l),B.style.height=parseInt(B.style.height)-o.clientHeight+"px",B.contentEditable=!0,B.focus()},M=function(){B.innerHTML=a,B.contentEditable=!1,B.style.height=A.clientHeight+"px",A.replaceChild(l,o)},w=function(){var t=m.getMode();"text"==t&&c.click(),B.contentEditable=!1,B.style.height=A.clientHeight+"px",A.replaceChild(l,o),g(A,B.innerHTML)},U=function(){s.forEach(function(A){A.update()})};l.addEventListener("click",r),d.addEventListener("click",w),E.addEventListener("click",M),B.addEventListener("click",U),B.addEventListener("keyup",U),B.addEventListener("keydown",U),B.addEventListener("keypress",U),A.appendChild(l),A.appendChild(B)}A.prototype.createImage=function(A){var t=document.createElement("img");return t.src=A.image,t.className="rte_tool_button_image",t},A.prototype.createButton=function(A,t){var e=document.createElement("div");return void 0!==A.command?e.className="rte_tool_button":e.className="rte_dummy_button",e.appendChild(t),void 0!==A.title&&(e.title=A.title),e};var i=[{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAWAQMAAAAsKvQgAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdChIFMAV7MyJzAAAAEElEQVQI12NgQAIsRCMkAAAHlgA5FSVtvwAAAABJRU5ErkJggg=="},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWBAMAAAA2mnEIAAAAFVBMVEWns8Y5Y8JYhN95jq6Ro7mCpfGjw/sCGA0xAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAUeCEy7aCQAAABNSURBVBjTY2AgC6QlwJmpoWFQTgBbqKBQGoQdlqooZKgGYYeGCjowqkLYSqoGDDC2oqoCAyNUjaCgIAOjAsICZLYSA1Y2E5ISFgYKAQAz2gfaOnDYbwAAAABJRU5ErkJggg==",command:"undo",title:"Undo"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWBAMAAAA2mnEIAAAAFVBMVEWns8Y5Y8JYhN95jq6Ro7mCpfGjw/sCGA0xAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAUdLSyS76AAAAAdaVRYdENvbW1lbnQAAAAAAENyZWF0ZWQgd2l0aCBHSU1QZC5lBwAAAExJREFUGNNjYCAdsKUhmKmhYTB2mqJgaAIrhJ0krCgUlgphBwmwCIaGwtgMzEFKUDUCDExBQhA2kwCDoKAgnI0ASjjYTApIHAcGigEAJhYIB8g4s2sAAAAASUVORK5CYII=",command:"redo",title:"Redo"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9oECQMCKPI8CIIAAAAIdEVYdENvbW1lbnQA9syWvwAAAuhJREFUOMtjYBgFxAB501ZWBvVaL2nHnlmk6mXCJbF69zU+Hz/9fB5O1lx+bg45qhl8/fYr5it3XrP/YWTUvvvk3VeqGXz70TvbJy8+Wv39+2/Hz19/mGwjZzuTYjALuoBv9jImaXHeyD3H7kU8fPj2ICML8z92dlbtMzdeiG3fco7J08foH1kurkm3E9iw54YvKwuTuom+LPt/BgbWf3//sf37/1/c02cCG1lB8f//f95DZx74MTMzshhoSm6szrQ/a6Ir/Z2RkfEjBxuLYFpDiDi6Af///2ckaHBp7+7wmavP5n76+P2ClrLIYl8H9W36auJCbCxM4szMTJac7Kza////R3H1w2cfWAgafPbqs5g7D95++/P1B4+ECK8tAwMDw/1H7159+/7r7ZcvPz4fOHbzEwMDwx8GBgaGnNatfHZx8zqrJ+4VJBh5CQEGOySEua/v3n7hXmqI8WUGBgYGL3vVG7fuPK3i5GD9/fja7ZsMDAzMG/Ze52mZeSj4yu1XEq/ff7W5dvfVAS1lsXc4Db7z8C3r8p7Qjf///2dnZGxlqJuyr3rPqQd/Hhyu7oSpYWScylDQsd3kzvnH738wMDzj5GBN1VIWW4c3KDon7VOvm7S3paB9u5qsU5/x5KUnlY+eexQbkLNsErK61+++VnAJcfkyMTIwffj0QwZbJDKjcETs1Y8evyd48toz8y/ffzv//vPP4veffxpX77z6l5JewHPu8MqTDAwMDLzyrjb/mZm0JcT5Lj+89+Ybm6zz95oMh7s4XbygN3Sluq4Mj5K8iKMgP4f0////fv77//8nLy+7MCcXmyYDAwODS9jM9tcvPypd35pne3ljdjvj26+H2dhYpuENikgfvQeXNmSl3tqepxXsqhXPyc666s+fv1fMdKR3TK72zpix8nTc7bdfhfkEeVbC9KhbK/9iYWHiErbu6MWbY/7//8/4//9/pgOnH6jGVazvFDRtq2VgiBIZrUTIBgCk+ivHvuEKwAAAAABJRU5ErkJggg==",command:"removeFormat",title:"Remove formatting"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAWAQMAAAAsKvQgAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdChIFMAV7MyJzAAAAEElEQVQI12NgQAIsRCMkAAAHlgA5FSVtvwAAAABJRU5ErkJggg=="},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAQMAAAD+ev54AAAABlBMVEXAwMAAAAAr16GmAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAEYKVGBdyAAAAAXSURBVAjXY2DAARj/AYnnSBiND5bHDQCCvQhnCswO8wAAAABJRU5ErkJggg==",command:"bold",title:"Bold"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAgMAAAC52oSoAAAADFBMVEUAAQAAAABfb4+ViG2cZmE4AAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAEaCC/eBfwAAAApSURBVAjXY2AgATCGQugYMMkUABFMAFOcDmCKtQFMqUIUikG1OTCQDgDytgMF6QdI+AAAAABJRU5ErkJggg==",command:"italic",title:"Italic"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAgMAAAC52oSoAAAACVBMVEUAAJQAAABfb49gZju7AAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAEaOucJVHwAAAAiSURBVAjXY2AgHrAGhoAoRocAYqkkMMUQ6oBsSmgIUbYBAMh+BgeQC3UZAAAAAElFTkSuQmCC",command:"underline",title:"Underline"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAWAQMAAAAsKvQgAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdChIFMAV7MyJzAAAAEElEQVQI12NgQAIsRCMkAAAHlgA5FSVtvwAAAABJRU5ErkJggg=="},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWBAMAAAA2mnEIAAAAElBMVEVpZHQAAAAdQoRfb49YhN95jq7ImFheAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAEiF7VJtPIAAAAjSURBVBjTY2AgGbAisUMUGAUFBQXAbCYa62VGYpuQqJcgAAAuWAIcWZwc/gAAAABJRU5ErkJggg==",command:"insertunorderedlist",title:"Unordered List"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAgMAAAC52oSoAAAADFBMVEVlLWcAAAA5Y8JYhN/xpGEgAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAEiMv5NYLUAAAAsSURBVAjXY2DABwwg1APR0AAgpQDhrUBR8gFCceBR8gNqGEQJB4S3gIEAAABcXweXww6XlAAAAABJRU5ErkJggg==",command:"insertorderedlist",title:"Ordered List"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAWAQMAAAAsKvQgAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdChIFMAV7MyJzAAAAEElEQVQI12NgQAIsRCMkAAAHlgA5FSVtvwAAAABJRU5ErkJggg=="},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAQMAAAD+ev54AAAABlBMVEXAwMAAAAAr16GmAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAUjE6w26XYAAAAVSURBVAjXY2DAAvj/H4DQf4jjYwEAkJ8IjIVkOgUAAAAASUVORK5CYII=",command:"justifyleft",title:"Left align"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAQMAAAD+ev54AAAABlBMVEXAwMAAAAAr16GmAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAUjACiIqKgAAAAWSURBVAjXY2DAAvj/HwDTzP+J42MBAIwNCHEHag9aAAAAAElFTkSuQmCC",command:"justifycenter",title:"Center align"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAQMAAAD+ev54AAAABlBMVEXAwMAAAAAr16GmAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAUkAGfJPm8AAAAWSURBVAjXY2DAAvj/H4AwoDQhPhYAAObKCqj4sPq8AAAAAElFTkSuQmCC",command:"justifyright",title:"Right align"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAWAQMAAAAsKvQgAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdChIFMAV7MyJzAAAAEElEQVQI12NgQAIsRCMkAAAHlgA5FSVtvwAAAABJRU5ErkJggg=="},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAgMAAAC52oSoAAAADFBMVEUAAAAAAAA5Y8JYhN8/ZqfhAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAUoI2kbABEAAAAxSURBVAjXY2DADhyQ2IwhoaFI/A9gHvMBMGW/AizG1BAaAKIXQChs+hhDAnDagA0AAIoLCn4Sv6WGAAAAAElFTkSuQmCC",command:"outdent",title:"Delete indentation"},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAgMAAAC52oSoAAAADFBMVEVfb48AAAA5Y8JYhN+lq1LuAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB98EDAUoDizEXGQAAAAwSURBVAjXY2DADgSQOaGioQFwDvMBCO8DmOJ/BRFdIBoCJJkawBRWfQyhIrhtwAIA+64IvP1vAdcAAAAASUVORK5CYII=",command:"indent",title:"Add indentation"}];return function(A){return this.each(function(){g(this,A)})}}();
JS;

$html = NULL;

$css = <<<CSS
.rte_box{border:1px solid #000;position:relative}.rte_edit_button{float:right;font-size:small;color:Green;background-color:#f5f5f5;z-index:2;margin-right:20px;position:relative;margin-top:-10px}.rte_edit_button:hover{background-color:#d3d3d3;cursor:pointer}.rte_edit_box{position:absolute;overflow-y:auto;word-wrap:break-word;background-color:#f5f5f5;z-index:1}.rte_edit_tools{width:100%;background-color:#d3d3d3;position:relative}.rte_dummy_button,.rte_tool_button{display:inline-block;background-color:#d3d3d3}.rte_right_tool_button{float:right;background-color:#d3d3d3}.rte_right_tool_button:hover,.rte_tool_button:hover{background-color:Gray;cursor:pointer}.rte_tool_button_image{margin:2px;border:0;vertical-align:top}.rte_active_tool_button_image{margin:1px;border:1px solid #000;vertical-align:top;background-color:#a9a9a9}.rte_html_text{margin:0;word-wrap:break-word}
CSS;

$obj = new LoadableContent($js, $html, $css);
$obj->load();